import React from 'react';
import { View, Image } from 'react-native';
import { Avatar, Text } from '@logo-rn/shared-utils/utils/logo-ui/components';
import styles from "./AvatarCss"

const LogoIcon = './logoIcon.png';

/**
 * Interface of Props
 * @enum Props
 */
interface Props {
    user?: any,
    size?: number
}


/**
 * <LogoAvatar/> is an avatar component to describe user.
 *
 *     Usage:
 *
 *     ```html
 *     <LogoAvatar size="36"/>
 *     ```
 *
 * @param {Object} user  The user object with Name, Surname and UserImage
 * @param {number} size The size of the avatar. Default 56.
 * @constructor
 * @link Props
 */
const LogoAvatar: React.FC<Props> = ({
    user,
    size = 56
}) => {
    const picture = user?.UserImage

    return (
        <View >
            {picture && picture?.uri ?
                <Avatar
                    style={{ ...styles.avatar, width: size, height: size, borderRadius: size / 2 }}
                    shape='round'
                    source={{ uri: picture?.uri }} /> :
                picture && !picture?.uri ?
                    <Avatar
                        style={{ ...styles.avatar, width: size, height: size, borderRadius: size / 2 }}
                        shape='round'
                        source={require("./avatar.png")} /> :
                    user?.Name ?
                        <View style={{ ...styles.avatar, width: size, height: size, borderRadius: size / 2 }}>
                            <Text style={{ ...styles.avatarText, fontSize: size / 2 }}>{user?.Name?.charAt(0).toUpperCase() || "A"}{user?.Surname?.charAt(0).toUpperCase() || "B"}</Text>
                        </View>
                        :
                        <View style={{ ...styles.avatar, width: size, height: size, borderRadius: size / 2 }}>
                            <Image source={require(LogoIcon)} style={{ width: size, height: size, borderRadius: size / 2 }} />
                        </View>
            }
        </View>
    );
};

export { LogoAvatar };